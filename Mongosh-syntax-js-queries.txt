-- 1 Get channel messages
db.messages.find({ channel_id: 1 });

-- 2 Get user messages
db.messages.find({ user_id: 1 });

-- 3 Aggregation
db.messages.aggregate([
{ $group: { _id: "$channel_id", count: { $sum: 1 } } }
]);